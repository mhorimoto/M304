# M304 Common

M304を使用する、汎用ソフトウェアライブラリ

## DISPLAY関連
### PAGE WRITE 機能
20x4のLCD画面をフラットに使用して書き換える。
20x4のメモリエリア(MEM20x4)を全体として使用して、遅いけれど全体を１回で書き込むルーティン。

### LINE WRITE 機能
MEM20x4の中を変更しつつライン単位で出力する。
PAGE WRITEよりも高速。

### CHAR WRITE 機能
MEM20x4の中を変更しつつ文字単位で出力する。
変更する文字の位置(アドレス)を指定して１文字単位で出力する。

## CROSS KEY SWITCH関連
### SIFモード
Start Input Fast モード

関数がコールされたときの入力の状態を返す。

### LIモード
Line Input モード

関数がコールされたら、決定、戻る、のボタンが押されるまで内部で入力処理を行う。

* 数値Aモード

VRによって数値を返す。map()を用いて下限上限を決める事ができる。

* 数値Dモード

上下キーを用いて数値を設定して返す。

## EEPROM関連

## RTC関連

## Ethernet関連
基本的にDHCPによる自動設定にする。IPアドレスなどのネットワーク情報はLCD画面に表示することが出来るのでDHCPで受信しても大丈夫。
* Broadcastに関しては、ネットワーク内でBroadcastするようにした。
具体的には、192.168.11.0/24のネットワークでは、192.168.11.255/24がブロードキャストアドレスとして適用する。また、172.16.0.0/16の場合には、172.16.255.255/16をブロードキャストアドレスとして適用する。他のケースもbitmaskに合わせて正確なブロードキャストを行う。

DNS
## GPS/GNSS関連

